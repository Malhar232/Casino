<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Casino</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="icon/image-x" href="./assets/icon.jpg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="./styles/style.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="./dist/jquery.slotmachine.css" type="text/css" media="screen" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" type="text/css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="./dist/slotmachine.js"></script>
    <script src="./dist/jquery.slotmachine.js"></script>
</head>
<body>
    <div class="intro fadein">
<button id="play" onclick="goin()">Play As Guest</button>
    </div>
    <div class="menu fadeout">
<img class="menuback" src="./assets/menuback.png">
<button class="btnz" onclick="blackjack()"><img class="blackjack" src="./assets/backjack.png"></button>
<button class="btnz1" onclick="slotmachine()" ><img class="slot" src="./assets/slot.png"></button>
</div>



<div class="bj fadeout" id="blackj">
    <button onclick="goback()" class="backbut" ><i class="fas fa-arrow-left" style="position: absolute;top: 7vh;left: 2vw;color: wheat;"></i></button>
    
    <button class="backbut2" id="myBtn2">How to play</button>
    <button class="backbut3" id="myBtn3">Stats</button>


    <div id="myModal2" class="modal2" style="align-items:center;">
     <div class="modal-content">
       <h2 style="color: black;margin: 0;"><u>Blackjack</u></h2>
       <br>
       <ul>
         <li>Click the Hit button to play your hand.</li>
         <li>Note that the score should be <= 21 the closer you are to the number 21 more are your chances of winning.</li>
         <li>With each Hit you add a card which is then added to your previous card(s).</li>
         <li>Value of Jack, Queen and King is 10.</li>
         <li>Value of Ace is 11 if your sum does not exceed 21 and it's value is 1 in any other case.</li>
         <li>When you belive pressing the hit button may exceed you score above 21 press the stand button.</li>
         <li>Stand button allows the dealer to play is set of cards.</li>
         <li>The player or the dealer whose score is the closest to 21 without being busted wins!</li>
         <li>Similar score leads a Draw!</li>
         <li>Deal button ends the current hand after the result has been decleared.</li>
       </ul>
       <span class="close2">&times;</span>
     </div>
    </div>



    <div id="myModal3" class="modal3" style="align-items:center;">
     <div class="modal-content">
       
       <h2 style="color: black;margin: 0;"><u>Statistics</u></h2>
       <br>
     
       <div class="tabular">
        <table>
            <tr>
              <th>Wins</th>
              <th>Losses</th>
              <th>Draws</th>
            </tr>
            <tr>
              <td><span id="wins">0</span></td>
              <td><span id="losses">0</span></td>
              <td><span id="draws">0</span></td>
            </tr>
            </table>
    </div>
       <span class="close3">&times;</span>
     </div>
    </div>
   
    <div class="tableb">
   <h2><span id="result">Let's Play!</span></h2>
        <div class="player-space"><h2>Player:<span id="player_score">0</span></h2></div>
        <div class="dealer-space"><h2>Computer:<span id="bot_score">0</span></h2></div>
    </div>
        <button class="operator1" onclick="hit()" id="hit">Hit</button>
        <button class="operator2" id="stand">Stand</button>
        <button class="operator3" id="deal">Deal</button>

      
            
  <script>
    // Get the modal
    var modal2 = document.getElementById("myModal2");
    
    // Get the button that opens the modal
    var btn2 = document.getElementById("myBtn2");
    
    // Get the <span> element that closes the modal
    var span2 = document.getElementsByClassName("close2")[0];
    
    // When the user clicks the button, open the modal 
    btn2.onclick = function() {
      modal2.style.display = "block";
    }
    
    // When the user clicks on <span> (x), close the modal
    span2.onclick = function() {
      modal2.style.display = "none";
    }
    
    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
      if (event.target == modal2) {
        modal2.style.display = "none";
      }
    }


    // Get the modal
    var modal3 = document.getElementById("myModal3");
    
    // Get the button that opens the modal
    var btn3 = document.getElementById("myBtn3");
    
    // Get the <span> element that closes the modal
    var span3 = document.getElementsByClassName("close3")[0];
    
    // When the user clicks the button, open the modal 
    btn3.onclick = function() {
      modal3.style.display = "block";
    }
    
    // When the user clicks on <span> (x), close the modal
    span3.onclick = function() {
      modal3.style.display = "none";
    }
    
    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
      if (event.target == modal3) {
        modal3.style.display = "none";
      }
    }
    </script>
</div>


<!-- Slot -->
<div class="slotmachinegame fadeout">
    <canvas id="canvas"></canvas>
    <button onclick="goback()" class="backbut" ><i class="fas fa-arrow-left" style="position: absolute;top: 7vh;left: 2vw;color: wheat;"></i></button>
 <button class="backbut2" id="myBtn">How to play</button>
 <div id="myModal" class="modal">
  <div class="modal-content">
    
    <h2><u>Slot Machine Game</u></h2>
    <ul>
      <li>Click the Roll button to start the machine</li>
      <li>Click the Stop button to stop the machine</li>
      <li>If all three slots return the same symbol-You Win</li>
      <li>Any other outcome-You Lose</li>
    </ul>
    <span class="close">&times;</span>
  </div>

</div>
    <div id="casino" style="padding-top:50px;">
     
        <div class="content">
          <h1 style="color: wheat;"><span id="slotmachinex">Slot Machine</span></h1>
  
          <div>
            <div id="casino1" class="slotMachine" style="margin-left: -65px;">
              <div class="slot slot1"></div>
              <div class="slot slot2"></div>
              <div class="slot slot3"></div>
              <div class="slot slot4"></div>
              <div class="slot slot5"></div>
              <div class="slot slot6"></div>
            </div>
  
            <div id="casino2" class="slotMachine">
              <div class="slot slot1"></div>
              <div class="slot slot2"></div>
              <div class="slot slot3"></div>
              <div class="slot slot4"></div>
              <div class="slot slot5"></div>
              <div class="slot slot6"></div>
            </div>
  
            <div id="casino3" class="slotMachine">
              <div class="slot slot1"></div>
              <div class="slot slot2"></div>
              <div class="slot slot3"></div>
              <div class="slot slot4"></div>
              <div class="slot slot5"></div>
              <div class="slot slot6"></div>
            </div>
  
            <div class="btn-group btn-group-justified" role="group">
              <button id="casinoShuffle" type="button" class="btn btn-primary btn-lg">Roll!</button>
              <button id="casinoStop" type="button" class="btn btn-primary btn-lg">Stop!</button>
            </div>
          </div>
        </div>
  

      </div>
      <script id="codeScript5">
  let count = 0;
  const btnShuffle = document.querySelector('#casinoShuffle');
  const btnStop = document.querySelector('#casinoStop');
  const casino1 = document.querySelector('#casino1');
  const casino2 = document.querySelector('#casino2');
  const casino3 = document.querySelector('#casino3');
  const mCasino1 = new SlotMachine(casino1, {
    active: 0,
    delay: 500
  });
  const mCasino2 = new SlotMachine(casino2, {
    active: 1,
    delay: 500
  });
  const mCasino3 = new SlotMachine(casino3, {
    active: 2,
    delay: 500
  });
      </script>
      <script id="codeScript6">
  btnShuffle.addEventListener('click', () => {
    count = 3;
    mCasino1.shuffle(9999);
    mCasino2.shuffle(9999);
    mCasino3.shuffle(9999);
  }
  );
    let r3=mCasino3.visibleTile;
    let r2=mCasino2.visibleTile;
    let r1=mCasino1.visibleTile;
  btnStop.addEventListener('click', () => {
    switch(count) {
      case 3:
        mCasino1.stop();
        r1=mCasino1.visibleTile;

        break;
      case 2:
        mCasino2.stop();
        r2=mCasino2.visibleTile;

        break;
      case 1:
        mCasino3.stop();
        r3=mCasino3.visibleTile;
        
        break;
    }
 
    if(r1==r2 && r2==r3){

        let cash=new Audio('./assets/cash.mp3');

        const canvasEl = document.querySelector('#canvas');

const w = canvasEl.width = window.innerWidth;
const h = canvasEl.height = window.innerHeight * 2;

function loop() {
  requestAnimationFrame(loop);
	ctx.clearRect(0,0,w,h);
  
  confs.forEach((conf) => {
    conf.update();
    conf.draw();
  })
}

function Confetti () {
  //construct confetti
  const colours = ['#fde132', '#009bde', '#ff6b00'];
  
  this.x = Math.round(Math.random() * w);
  this.y = Math.round(Math.random() * h)-(h/2);
  this.rotation = Math.random()*360;

  const size = Math.random()*(w/60);
  this.size = size < 15 ? 15 : size;

  this.color = colours[Math.floor(colours.length * Math.random())];

  this.speed = this.size/7;
  
  this.opacity = Math.random();

  this.shiftDirection = Math.random() > 0.5 ? 1 : -1;
}

Confetti.prototype.border = function() {
  if (this.y >= h) {
    this.y = h;
  }
}

Confetti.prototype.update = function() {
  this.y += this.speed;
  
  if (this.y <= h) {
    this.x += this.shiftDirection/3;
    this.rotation += this.shiftDirection*this.speed/100;
  }

  if (this.y > h) this.border();
};

Confetti.prototype.draw = function() {
  ctx.beginPath();
  ctx.arc(this.x, this.y, this.size, this.rotation, this.rotation+(Math.PI/2));
  ctx.lineTo(this.x, this.y);
  ctx.closePath();
  ctx.globalAlpha = this.opacity;
  ctx.fillStyle = this.color;
  ctx.fill();
};

const ctx = canvasEl.getContext('2d');
const confNum = Math.floor(w / 4);
const confs = new Array(confNum).fill().map(_ => new Confetti());

loop();

let spaan=document.querySelector('#slotmachinex');
spaan.textContent="You Win!";
spaan.style.color="tomato";
spaan.style.backgroundColor="Wheat";
spaan.style.fontsize="2.5rem";
cash.play();

//# sourceURL=coffeescript
}
    count--;

  });
   
  
  //# sourceURL=coffeescript
 
      </script>
  
      
  <script>
    // Get the modal
    var modal = document.getElementById("myModal");
    
    // Get the button that opens the modal
    var btn = document.getElementById("myBtn");
    
    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];
    
    // When the user clicks the button, open the modal 
    btn.onclick = function() {
      modal.style.display = "block";
    }
    
    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
      modal.style.display = "none";
    }
    
    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }
    </script>
</div>


        <script src="script.js"></script>
</body>
</html>
